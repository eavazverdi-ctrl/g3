<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no">
  <title>FX Levels</title>
  <meta name="theme-color" content="#0B0B10">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-180.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="stylesheet" href="app.css">
</head>
<body>
  <div class="bg-wall"></div>
  <div class="bg-dim"></div>

  <main class="grid">
    <section class="card">
      <div class="card-head green clickable" id="buyHead">ุฎุฑุฏ</div>
      <div class="card-body">
        <div class="row"><input id="buyTop"  inputmode="decimal" placeholder=""></div>
        <div class="row"><input id="buyHigh" inputmode="decimal" placeholder=""></div>
        <div class="row"><input id="buyLow"  inputmode="decimal" placeholder=""></div>
        <hr/>
        <div class="row"><div class="badge green-soft full" id="buyP1">โ</div></div>
        <div class="row"><div class="badge green-soft full" id="buyP2">โ</div></div>
        <div class="row"><div class="badge yellow full" id="buyStop">โ</div></div>
        <hr/>
        <div class="row"><button class="send-btn buy" id="sendBuy">ุงุฑุณุงู ุจู ุชูฺฏุฑุงู</button></div>
      </div>
    </section>

    <section class="card">
      <div class="card-head pink clickable" id="sellHead">ูุฑูุด</div>
      <div class="card-body">
        <div class="row"><input id="sellTop"  inputmode="decimal" placeholder=""></div>
        <div class="row"><input id="sellHigh" inputmode="decimal" placeholder=""></div>
        <div class="row"><input id="sellLow"  inputmode="decimal" placeholder=""></div>
        <hr/>
        <div class="row"><div class="badge yellow full" id="sellStop">โ</div></div>
        <div class="row"><div class="badge red-soft full" id="sellP2">โ</div></div>
        <div class="row"><div class="badge red-soft full" id="sellP1">โ</div></div>
        <hr/>
        <div class="row"><button class="send-btn sell" id="sendSell">ุงุฑุณุงู ุจู ุชูฺฏุฑุงู</button></div>
      </div>
    </section>
  </main>

  <!-- Glass & Settings -->
  <button class="fab" id="glassFab" aria-label="ุชูุธูุงุช">โ๏ธ</button>
  <section class="sheet" id="glassSheet" aria-hidden="true">
    <div class="sheet-handle"></div>
    <div class="sheet-body">
      <div class="sheet-title">ุชูุธู ุดุดู ุจุฏูู</div>
      <div class="sheet-row">
        <label>ุดูุงูุช</label>
        <input type="range" id="alpha" min="0.06" max="0.28" step="0.01"><span id="alphaVal"></span>
      </div>
      <div class="sheet-row">
        <label>ูุฑุฒ</label>
        <input type="range" id="border" min="0.00" max="0.20" step="0.01"><span id="borderVal"></span>
      </div>
      <div class="sheet-row">
        <label>ุชุงุฑ</label>
        <input type="range" id="blur" min="8" max="30" step="1"><span id="blurVal"></span>
      </div>
      <div class="preset-row">
        <button data-preset="soft">ูุฑู</button>
        <button data-preset="default">ูพุดโูุฑุถ</button>
        <button data-preset="solid">ูุงุช</button>
        <button data-preset="reset">ุฑุณุช</button>
      </div>
      <div class="hint">ุชุบุฑุงุช ุฐุฎุฑู ูโุดููุฏ ู ุฏุฑ ุงุฌุฑุงูุง ุจุนุฏ ูู ุงุนูุงู ูโฺฏุฑุฏูุฏ.</div>

      <hr style="opacity:.12;border:none;border-top:1px solid rgba(255,255,255,.18);margin:10px 0;">
      <div class="sheet-title" style="margin-top:0">ุชูุธูุงุช ุชูฺฏุฑุงู (ุงุฑุณุงู ูุณุชูู ุจุง ุฑุจุงุช)</div>
      <div class="sheet-row" style="grid-template-columns: 160px 1fr;">
        <label>Relay URL</label>
        <input id="relayUrlInput" placeholder="https://your-worker.workers.dev">
      </div>
      <div class="sheet-row" style="grid-template-columns: 160px 1fr;">
        <label>Chat ID</label>
        <input id="chatIdInput" placeholder="-1001234567890 ุง @channel">
      </div>
      <div class="preset-row">
        <button id="saveRelay">ุฐุฎุฑู</button>
        <button id="testRelay">ุชุณุช ุงุชุตุงู</button>
      </div>
    </div>
  </section>

  <!-- Minimal Send Sheet -->
  <section class="sheet" id="sendSheet" aria-hidden="true">
    <div class="sheet-handle"></div>
    <div class="sheet-body">
      <div class="sheet-title">ูพุดโููุงุด ูพุงู:</div>
      <div id="sendPreview" class="preview"></div>
      <div class="preset-row">
        <button id="confirmSend">ุงุฑุณุงู</button>
        <button id="cancelSend">ุงูุตุฑุงู</button>
      </div>
      <div class="hint">ุงุฑุณุงู ููุท ููู ูพุงู ุฑุง ุงูุฌุงู ูโุฏูุฏ.</div>
    </div>
  </section>

  <!-- Password Gate -->
  <section class="auth" id="authGate" aria-hidden="false">
    <div class="auth-card">
      <div class="auth-title">ูุทูุง ูุงุณูุณ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ.</div>
      <input type="password" id="authPass" placeholder="ุฑูุฒ ุนุจูุฑ" autocomplete="current-password" inputmode="text">
      <button id="authBtn">ูุฑูุฏ</button>
      <div class="auth-error" id="authErr" hidden>ุฑูุฒ ุงุดุชุจุงู ุงุณุช.</div>
    </div>
  </section>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./service-worker.js'));
    }
  </script>

  <!-- BG FAB (icon-only) -->
  <button class="fab fab-right bg-fab" id="bgFab" aria-label="ุชุบุฑ ุฒููู" title="ุชุบุฑ ุฒููู">๐ผ๏ธ</button>
  <input type="file" id="bgFabFile" accept="image/*" class="bg-fab-input">

</body>
</html>
